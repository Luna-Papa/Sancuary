{% extends 'base.html' %}
{% load static %}

{% block title %}
交易对手等数据查询
{% endblock %}

{% block custom_css %}
    <link href="{% static 'css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/iCheck/custom.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/bootstrap-tagsinput/bootstrap-tagsinput.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/colorpicker/bootstrap-colorpicker.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/cropper/cropper.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/switchery/switchery.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/jasny/jasny-bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/nouslider/jquery.nouislider.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/datapicker/datepicker3.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/ionRangeSlider/ion.rangeSlider.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/clockpicker/clockpicker.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/daterangepicker/daterangepicker-bs3.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/select2/select2.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/select2/select2-bootstrap4.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/touchspin/jquery.bootstrap-touchspin.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/dualListbox/bootstrap-duallistbox.min.css' %}" rel="stylesheet">
{% endblock %}

<!-- 主页内容头部 -->
{% block content-header %}
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-10">
            <h2>POS商户查询</h2>
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="#">首页</a>
                </li>
                <li class="breadcrumb-item active">
                    <strong>数据查询</strong>
                </li>
            </ol>
        </div>
        <div class="col-lg-2">
        </div>
    </div>
{% endblock %}

<!-- 主页正文 -->
{% block content %}
    <div class="wrapper wrapper-content animated fadeIn">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox">
                    <div class="ibox-title">
                    <h5>POS商户信息查询</h5>
                </div>
                    <div class="ibox-content">
                        <h3></h3>
                        <p></p>
                        <form class="m-t-md" enctype="multipart/form-data"
                              action="" method="post">
                            {% csrf_token %}
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">请输入卡号</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" placeholder="" aria-required="true"
                                           name="card_no">
                                    <span class="form-text"></span>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label">请输入交易金额</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control" placeholder="" aria-required="true"
                                           name="tram">
                                    <span class="form-text"></span>
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="row col-sm-10">
                                <label class="font-norma">选择交易时间</label>
                                <div class="input-group date">
                                    <span class="input-group-addon">
                                        <i class="fa fa-calendar"></i>
                                    </span>
                                    <input type="text" class="form-control" value="{% now "Y-m-d" %}"
                                           name="begin_date">
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group row col-sm-12">
                                <button class="btn btn-primary btn-lg col-sm-2 offset-4" type="submit">提交</button>
                            </div>
                            <input style="display: none" name="table_counts" value=1>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block custom_js %}
    <script src="{% static 'js/inspinia.js' %}"></script>
    <script src="{% static 'js/plugins/pace/pace.min.js' %}"></script>
    <script src="{% static 'js/plugins/metisMenu/jquery.metisMenu.js' %}"></script>
    <script src="{% static 'js/plugins/slimscroll/jquery.slimscroll.min.js' %}"></script>
    <!-- iCheck -->
    <script src="{% static 'js/plugins/iCheck/icheck.min.js' %}"></script>
    <!-- JSKnob -->
    <script src="{% static 'js/plugins/jsKnob/jquery.knob.js' %}"></script>
    <!-- Input Mask-->
    <script src="{% static 'js/plugins/jasny/jasny-bootstrap.min.js' %}"></script>
    <!-- Data picker -->
    <script src="{% static 'js/plugins/datapicker/bootstrap-datepicker.js' %}"></script>
    <!-- NouSlider -->
    <script src="{% static 'js/plugins/nouslider/jquery.nouislider.min.js' %}"></script>
    <!-- Switchery -->
    <script src="{% static 'js/plugins/switchery/switchery.js' %}"></script>
    <!-- IonRangeSlider -->
    <script src="{% static 'js/plugins/ionRangeSlider/ion.rangeSlider.min.js' %}"></script>
    <!-- iCheck -->
    <script src="{% static 'js/plugins/iCheck/icheck.min.js' %}"></script>
    <!-- MENU -->
    <script src="{% static 'js/plugins/metisMenu/jquery.metisMenu.js' %}"></script>
    <!-- Color picker -->
    <script src="{% static 'js/plugins/colorpicker/bootstrap-colorpicker.min.js' %}"></script>
    <!-- Clock picker -->
    <script src="{% static 'js/plugins/clockpicker/clockpicker.js' %}"></script>
    <!-- Date range use moment.js same as full calendar plugin -->
    <script src="{% static 'js/plugins/fullcalendar/moment.min.js' %}"></script>
    <!-- Date range picker -->
    <script src="{% static 'js/plugins/daterangepicker/daterangepicker.js' %}"></script>
    <!-- Select2 -->
    <script src="{% static 'js/plugins/select2/select2.full.min.js' %}"></script>
    <!-- TouchSpin -->
    <script src="{% static 'js/plugins/touchspin/jquery.bootstrap-touchspin.min.js' %}"></script>
    <!-- Tags Input -->
    <script src="{% static 'js/plugins/bootstrap-tagsinput/bootstrap-tagsinput.js' %}"></script>
    <!-- Dual Listbox -->
    <script src="{% static 'js/plugins/dualListbox/jquery.bootstrap-duallistbox.js' %}"></script>

{% endblock %}

{% block custom_page_js %}

    <script>

        $(document).ready(function(){
            $('.input-group.date').datepicker({
                todayBtn: "linked",
                keyboardNavigation: false,
                forceParse: false,
                {#calendarWeeks: true,#}
                autoclose: true,
                format: "yyyy-mm-dd",
                todayHighlight: true,
            });

            $('.i-checks').iCheck({
                checkboxClass: 'icheckbox_square-green',
                radioClass: 'iradio_square-green'
            });

            $(".select2_demo_1").select2({
                theme: 'bootstrap4',
            });
        });
        <!-- 动态增加表单数据表输入行 -->
        function addTableInput() {
            const table_inputs = $('.table_input')
            const table_input_num = table_inputs.length
            const last_table_input = $('.table_name_input:last')
            last_table_input.after(`
                <div class="form-group row table_name_input toggle-show">
                    <label class="col-sm-3 col-form-label">请输入账号/卡号</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" placeholder=""
                           name="table_${table_input_num+1}">
                        <span class="form-text"></span>
                    </div>
                    <div class="col-sm-2 form-group row">
                        <a class="col-sm-1 col-form-label" onclick="removeTableInput()">
                            <i class="fa fa-minus"></i>
                        </a>
                        <a class="col-sm-1 col-form-label" onclick="addTableInput()">
                            <i class="fa fa-plus"></i>
                        </a>
                    </div>
                </div>
                                `)
            $("input[name='table_counts']").val(table_input_num+1);
        }
        <!-- 动态减少表单数据表输入行 -->
        function  removeTableInput() {
            const table_input_num = $('.table_name_input').length
            const last_table_input = $('.table_name_input:last')
            if (table_input_num > 1) {
                last_table_input.remove();
                $("input[name='table_counts']").val(table_input_num-1);
            }
        }
        <!-- 上传文件 -->
        $('.custom-file-input').on('change', function() {
            let fileName = $(this).val().split('\\').pop();
            $(this).next('.custom-file-label').addClass("selected").html(fileName);
        });
        <!-- 根据登记方式显示表单输入项 -->
        $('#register_type').change(function () {
            const register_type = $(this).children('option:selected').val()
            if (register_type === 'upload') {
                $('.toggle-show').hide()
                $('.toggle-hide').show()
            }
            else if (register_type === 'manual') {
                $('.toggle-show').show()
                $('.toggle-hide').hide()
            }
        });
    </script>

{% endblock %}